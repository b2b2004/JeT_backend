<div align="center">
  <img width="40%" height="120px" src="https://github.com/b2b2004/JeT_backend/assets/87749472/d1fb6e7a-3af8-4d74-91b7-28163645a1cb">
</div>


# 코드미터(CodeMeter)
> **인공지능을 활용한 제주도 코스 추천 사이트** <br/> **개발기간: 2022. 11. 21 ~ 2023. 01. 05**

## 팀원 소개

## Stacks
<div>
<h3> Environment </h3>
<img src="https://img.shields.io/badge/IntelliJ IDEA-000000?style=for-the-badge&logo=IntelliJ IDEA&logoColor=white">
<img src="https://img.shields.io/badge/visualstudiocode-007ACC?style=for-the-badge&logo=visualstudiocode&logoColor=white">
<img src="https://img.shields.io/badge/jupyter-F37626?style=for-the-badge&logo=jupyter&logoColor=white">
<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
<br>

<h3> Development </h3>
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black"> 
<img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black">
<img src="https://img.shields.io/badge/spring-6DB33F?style=for-the-badge&logo=spring&logoColor=white">
<img src="https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white">
 <img src ="https://img.shields.io/badge/Python-000000.svg?&style=for-the-badge&logo=Python&logoColor=white"/>
<img src ="https://img.shields.io/badge/Flask-000000.svg?&style=for-the-badge&logo=Flask&logoColor=white"/>
<img src="https://img.shields.io/badge/MYSQL-4479A1?style=for-the-badge&logo=MYSQL&logoColor=white">
<img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white"> 
<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white">
<br>

</div>

## 프로젝트 소개
여행은 언제나 즐겁지만 어디갈지 일일히 알아보기 귀찮아 하는 사람들이 많이 있습니다. Jet은 제주도 관광지 여행 코스 추천 사이트입니다. 제주도 여행 지역, 기간, 설문조사를 통한 성향, 여행 스타일을 정하면 알고리즘을 통해 사용자 성향에 맞게 코스를 추천해주고 해당 관광지들 주변에 음식점, 숙소 또한 추천 받을 수 있습니다. 

## 화면 구성 📺
| 메인 페이지  | 회원가입 페이지   |
| :-------------------------------------------: | :------------: |
|  <img width="500" src="https://github.com/b2b2004/JeT_backend/assets/87749472/a57c1a54-8e26-4747-ab4d-eaab9c8fd9bc"/> |  <img width="500" height="700" src="https://github.com/b2b2004/JeT_backend/assets/87749472/9f2576c8-0525-4963-87e1-3a0af29d46e2"/>|  
| 설문조사 페이지   |  로그인 페이지   |  
| <img width="500" src="https://github.com/b2b2004/JeT_backend/assets/87749472/1ffae116-e830-452a-a46d-23bf3040737f"/>   |  <img width="300" src="https://github.com/b2b2004/JeT_backend/assets/87749472/b031b6e7-90d7-4936-83f6-283c76fa5bc0"/>     |
| 마이페이지   |  여행지 정보 페이지   |  
| <img width="500" src="https://github.com/b2b2004/JeT_backend/assets/87749472/2960c2c4-8d98-4bd9-bcf4-7a7be09eeb56"/>   |  <img width="500" src="https://github.com/b2b2004/JeT_backend/assets/87749472/d1756cd9-9e8f-4893-897a-b791ed338f92"/>     |
| 여행지 상세 페이지   |  여행지 지도 페이지   |  
| <img width="500" src="https://github.com/b2b2004/JeT_backend/assets/87749472/1c7cff78-9aeb-4454-afe5-829d43163fc6"/>   |  <img width="500" src="https://github.com/b2b2004/JeT_backend/assets/87749472/f3ab867f-7541-4e9d-9dd4-87e88f29ec66"/>    
| 코스 추천 선택 모달창   |  추천 된 코스   | 
| <img width="500" src="https://github.com/b2b2004/JeT_backend/assets/87749472/d15f7fdf-59f6-490e-8092-fc4002a4daa9"/>   |  <img width="500" src="https://github.com/b2b2004/JeT_backend/assets/87749472/e3665ff0-05d7-41ee-b966-cbf2cfcb24d4"/>   
| 추천 된 코스내의 관광지 정보   |  각 사용자들이 추천 받은 코스   |  
| <img width="500" src="https://github.com/b2b2004/JeT_backend/assets/87749472/465f97bf-999d-477d-8a86-6bea17a34452"/>   |  <img width="500" src="https://github.com/b2b2004/JeT_backend/assets/87749472/9e165ac5-9a7b-4c93-8812-e0e2642e3f5d"/>   

## 주요 기능 📦

### ⭐️ MyBatis를 이용한 데이터베이스 관리

### ⭐️ Spring Security를 이용한 개발
 - Bcrypt를 이용한 비밀번호 암호화 데이터베이스 저장
 - JWT(Java Web Token)을 이용한 사용자 인증 및 인가 및 토큰 관리
 - Spring Security를 활용한 카카오, 네이버 소셜 로그인 구현

### ⭐️ 비밀번호 찾기 기능
 - JavaMailSender을 활용하여 기존 회원의 아이디와 이메일이 맞다면 임시 비밀번호 발행
 - 임시 비밀번호는 숫자+영어 포함 10자리의 난수로 생성 데이터베이스에서는 역시 암호화하여 저장
 - 마이페이지를 통하여 임시 비밀번호 변경 가능

### ⭐️ 전처리한 데이터 관리(주로 제주도 관광지 데이터 926개)
<img src="https://github.com/b2b2004/JeT_backend/assets/87749472/484535ee-bb91-4b7b-8caa-65eeda5c0d5c" />
<img src="https://github.com/b2b2004/JeT_backend/assets/87749472/c1a590fe-4883-42f2-a752-3323eecdb7df" />

 - 해당 프로젝트 기능 중에 지도에 코스를 보여주는 부분이 있는데 위도,경도를 각 관광지 데이터가 가지고 있기 때문에 코스에는 관광지의 Num를 저장하였기 때문에 그 정보를 가져와 쓰는 과정에서 LEFT JOIN문을 이용하였습니다.

### ⭐️ CRUD
 - 사용자 데이터, 설문조사, 댓글 CRUD 구현
 - 조회 수, 좋아요 기능 구현 좋아요 기능은 한 사용자가 관광지 하나 당 한번만 누를 수 있으며 다시 좋아요 버튼을 누를 시 사라집니다. 또한 좋아요를 누른 관광지는 마이페이지에서 확인 할 수 있도록 하였습니다. 또한 해당 기능을 통해서 인기 관광지를 확인 할 수 있도록 하였습니다.

## 테이블 정보
```sql
use Jeju_Project;
	CREATE TABLE USER(
	userNo INT AUTO_INCREMENT,
	userId VARCHAR(255) NOT NULL,
	username VARCHAR(255) NOT NULL,
	password  VARCHAR(255) NOT NULL,
	email VARCHAR(255) NOT NULL,
	signup DATETIME DEFAULT CURRENT_TIMESTAMP(),
	CONSTRAINT PRIMARY KEY(userNo), 
	CONSTRAINT UNIQUE(userId)
);

CREATE TABLE JEJUDATA(
	JejuDataNo INT,
	CONSTRAINT PRIMARY KEY(JejuDataNo), 
	name VARCHAR(100),
	tags VARCHAR(255),
	img_src VARCHAR(255),
	address VARCHAR(255),
	area VARCHAR(20),
	Latitude double,
	Longitude double,
	phone VARCHAR(50),
	like_num INT,
	review_num	INT,
	lookup_num	 VARCHAR(255),
	real_lookup_num INT,
	real_like_num INT,
	share_num	INT,
	moreinfo VARCHAR(4000),
	detail_img VARCHAR(3500),
	introduce VARCHAR(1000),
	detail_info VARCHAR(1000),
	usage_time VARCHAR(255),
	rate_info VARCHAR(1500),
	place VARCHAR(255),
	main_purpose VARCHAR(255),
	etc_purpose VARCHAR(255),
	avg_time VARCHAR(255),
	difficulty VARCHAR(100),
	Facilities VARCHAR(100),
	weekday_open VARCHAR(100),
	weekday_close VARCHAR(100),
	weekend_open VARCHAR(100),
	weekend_close VARCHAR(100),
	adult_price VARCHAR(100),
	teenager_price	VARCHAR(100),
	children_price VARCHAR(100),
	tmp_tags VARCHAR(2000),
    time_sum double
 );
 
CREATE TABLE neighbor(
	NeighborNo INT AUTO_INCREMENT,
	CONSTRAINT PRIMARY KEY(NeighborNo), 
	JejuDataNo INT,
	name VARCHAR(100),
	neighbor_foodNo VARCHAR(100),
	neighbor_accommondationNo VARCHAR(100)
);

update neighbor, jejudata set neighbor.name = jejudata.name where neighbor.JejuDataNo = jejudata.JejuDataNo;

CREATE TABLE JEJUDATA_review(
	userId VARCHAR(255),
	username VARCHAR(255),
	review_num INT AUTO_INCREMENT,
	review_like_num INT,
	place_num INT,
	content VARCHAR(1000),
	nowDate  VARCHAR(255),
	PRIMARY KEY (review_num),
	FOREIGN KEY (userId)
	REFERENCES user(userId)
	ON UPDATE CASCADE
	ON DELETE CASCADE,
	FOREIGN KEY (place_num)
	REFERENCES JEJUDATA(JejuDataNo)
	ON UPDATE CASCADE
	ON DELETE CASCADE
);

CREATE TABLE COURSE(
	userId VARCHAR(255),
	course_num INT AUTO_INCREMENT,
	CONSTRAINT PRIMARY KEY(course_num), 
	place1 INT,
	place2 INT,
	place3 INT,
	place4 INT,
	place5 INT,
	place6 INT,
	place7 INT,
	title VARCHAR(255),
	content VARCHAR(1000),
	lookup_num INT,
	like_num INT
);

CREATE TABLE Survey(
	userId VARCHAR(255),
	survey_num INT AUTO_INCREMENT,
  CONSTRAINT PRIMARY KEY(survey_num), 
  answer1 INT,
	answer2 INT,
	answer3 INT,
	answer4 INT,
  tendency_result INT,
	FOREIGN KEY (userId)
	REFERENCES user(userId)
	ON UPDATE CASCADE
	ON DELETE CASCADE
);

/* 유저가 좋아하는 관광지 찜 목록 */
CREATE TABLE user_like(
	user_like_num INT AUTO_INCREMENT,
	CONSTRAINT PRIMARY KEY(user_like_num), 
	userId VARCHAR(255),
	place VARCHAR(255),
	FOREIGN KEY (userId)
	REFERENCES user(userId)
	ON UPDATE CASCADE
	ON DELETE CASCADE
);

/*코스 좋아요 */
CREATE TABLE like_course(
	like_course_num INT AUTO_INCREMENT,
	CONSTRAINT PRIMARY KEY(like_course_num), 
	userId VARCHAR(255),
	course_num INT,
	FOREIGN KEY (userId)
	REFERENCES user(userId)
	ON UPDATE CASCADE
	ON DELETE CASCADE
);

/*관광지 리뷰 좋아요 */
CREATE TABLE jeju_review_like(
	userId VARCHAR(255),
	reviewNo INT,
	FOREIGN KEY (userId)
	REFERENCES user(userId)
	ON UPDATE CASCADE
	ON DELETE CASCADE
);
```

